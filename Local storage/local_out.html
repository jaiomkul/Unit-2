<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    tr,th,td {
        border: 1px solid red;
    }
</style>
<body>

    <form action="">
        <input id="item" type="text">
        <input id="qty" type="number">
        <input type="submit">
    </form>
    
<table>
    <thead>
        <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Delete Item</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <!-- <td>Shubhankar</td>
            <td>100</td>
            <td>101</td> -->
        </tr>
    </tbody>
</table>
</body>
</html>

<script>
    document.querySelector("form").addEventListener("submit", toboList)
    var todoArr = JSON.parse(localStorage.getItem("todoTodo")) || []
    //var todoArr=[]

    //creatTable(todoArr)
    // both is calling function creatTable(todoArr) or window.
    window.addEventListener("load",function(){
        creatTable(todoArr);
    });


    function toboList(event) {
        event.preventDefault();
        var item = document.querySelector("#item").value;
        var qty = document.querySelector("#qty").value;

        console.log(item, qty)

        var taskList = {itamName: item, itemQty: qty};
        todoArr.push(taskList);
        localStorage.setItem("todoTodo", JSON.stringify(todoArr));
        //-------------------------------------------
        console.log(todoArr)
        creatTable(todoArr);
    }

    function creatTable(todoArr) {
        document.querySelector("tbody").innerHTML="";
        console.log(todoArr)

        todoArr.map(function(elem){
            var tr = document.createElement("tr");

            var td1 = document.createElement("td");
            td1.textContent=elem.itamName;

            var td2 = document.createElement("td");
            td2.textContent=elem.itemQty;

            var td3 = document.createElement("td");
            td3.textContent="Delete"

            tr.append(td1,td2,td3);

            document.querySelector("tbody").append(tr)

        });
    }
</script>